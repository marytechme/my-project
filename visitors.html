<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Visitors</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.snow.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.bubble.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/simple-datatables/style.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

</head>

<body>

    <main class="d-flex min-vh-100">
        <div class="row bg- container-fluid">
            <div class="col-xl-9 col-md-8">
                <div class="section-title mt-3">
                    <h2 style="font-size: 22px;">List Of Visitors</h2>
                  </div>

                  <table class="table table-borderless bg-light datatable">
                    <thead>
                      <tr>
                        <th scope="col">S/N</th>
                        <th scope="col">Full Name</th>
                        <th scope="col">Phone</th>
                        <th scope="col">Gender</th>
                        <th scope="col">Visit Date</th>
                      </tr>
                    </thead>
                    <tbody id="table" >
                      <tr>
                        <th scope="row"><a href="#">1</a></th>
                        <td>Ibrahim Sani Lawal</td>
                        <td><a href="#" class="text-primary">08043343999</a></td>
                        <td>Male</td>
                        <td><span class="badge bg-warning">12-12-2022</span></td>
                      </tr>
                     
                    </tbody>
                  </table>

            </div>
            <form id="addVisitorForm" class="col-xl-3 col-md-4 bg-light py-4">
                <h3 class="text-center h4 mb-4">Add New Visitor</h3>
                <div class="row mt-4 pt-4">
                    <div class="col-12">
                        <label for="fullName" class="form-label">Full Name</label>
                        <div class="input-group has-validation">
                          <input placeholder="Full Name" type="text" name="fullName" class="form-control" id="fullName" required>
                        </div>
                      </div>
                </div>
                <div class="row mt-2 ">
                    <div class="col-12">
                        <label for="phone" class="form-label">Phone</label>
                        <div class="input-group has-validation">
                          <input placeholder="Phone" type="text" name="phone" class="form-control" id="phone" required>
                        </div>
                      </div>
                </div>
                <div class="row mt-2 ">
                    <div class="col-12">
                        <label for="gender" class="form-label">Gender</label>
                        <div class="input-group has-validation">
                         <select name="gender" id="gender" class="form-select">
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                         </select>
                        </div>
                      </div>
                </div>

                <div class="row mt-2 ">
                    <div class="col-12">
                        <label for="visitDate" class="form-label">Date Of Visit</label>
                        <div class="input-group has-validation">
                          <input placeholder="Phone" type="date" name="visitDate" class="form-control" id="visitDate" required>
                        </div>
                      </div>
                </div>

                <button class="mt-4 btn btn-primary col-12">Add New Visitor</button>
                <a href="/dashboard.html" class="mt-4 btn btn-secondary col-4">Go Back</a>

            </form>
        </div>
    </main>
 

  <!-- Vendor JS  Files -->
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

  <script>

    


    const renderTableData = (arr)=>{
        const table = document.getElementById("table");
        table.innerHTML = ""
        arr.map((e, i)=>{
            let html = `<tr>
                <th scope="row"><a href="#">${i + 1}</a></th>
                <td>${e.fullName}</td>
                <td><a href="#" class="text-primary">${e.phone}</a></td>
                <td>${e.gender}</td>
                <td><span class="badge bg-warning">${e.date}</span></td>
              </tr>`;
            table.innerHTML += html
        })
    }

    const getData = ()=>{
        const storedDataJSON = localStorage.getItem('visitors');
        if (storedDataJSON !== null) {
            // The item exists in localStorage
            renderTableData(JSON.parse(storedDataJSON));
          
          } 

    }

    getData()
   
  </script>
  <script src="./assets/js/visitors.js"></script>

</body>

</html>